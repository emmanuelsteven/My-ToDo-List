(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}var a=n((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o(this,"addTask",(function(t){var n={id:e.tasks.length+1,description:t,completed:!1};e.tasks.push(n)})),o(this,"removeList",(function(t){e.tasks.forEach((function(n){n.id===t&&e.tasks.splice(e.tasks.indexOf(n),1)}))})),o(this,"displayToDo",(function(t){t.innerHTML="",e.tasks.forEach((function(e){var n='<li id="'.concat(e.id,'" class="new-list">\n            <input\n              type="checkbox"\n              id="').concat(e.id,'"\n              name="task"\n              value="task"\n              ').concat(e.completed?"checked":"",'\n              class="checkbox"\n            />\n            <input\n              type="text" id="').concat(e.id,'" class="text-area" name="task" value="').concat(e.description,'" />\n              \n              <span class="material-symbols-outlined delete"> delete </span>\n              \n          </li>');t.innerHTML+=n})),document.querySelectorAll(".checkbox").forEach((function(t){t.addEventListener("change",(function(){t.checked?(t.parentElement.classList.add("complete"),e.tasks=e.tasks.map((function(e){return e.id===parseInt(t.parentElement.id,20)&&(e.completed=t.checked),e})),e.setStorage()):(t.parentElement.classList.remove("complete"),e.tasks=e.tasks.map((function(e){return e.id===parseInt(t.parentElement.id,20)&&(e.completed=!1),e})),e.setStorage())}))})),document.querySelectorAll(".text-area").forEach((function(t){t.addEventListener("blur",(function(){var n=e.tasks.findIndex((function(e){return e.id===Number(t.id)}));-1!==n&&(e.tasks[n].description=t.value,e.setStorage())}))}))})),o(this,"resetIndex",(function(){var t=1;e.tasks.forEach((function(e){e.id=t,t+=1}))})),o(this,"showCompleted",(function(){e.tasks.forEach((function(t){t.completed=!0}))})),o(this,"cleanCompleted",(function(){e.tasks=e.tasks.filter((function(t){return!1===t.completed}))})),o(this,"setStorage",(function(){var t=JSON.stringify(e.tasks);localStorage.setItem("tasks",t)})),o(this,"getStorage",(function(){localStorage.getItem("tasks")&&(e.tasks=JSON.parse(localStorage.getItem("tasks")))})),this.tasks=[]}));const i=a;var s=document.querySelector(".task-container"),c=document.querySelector("form"),l=document.querySelector("#add-task"),u=document.querySelector(".completed"),d=new i;u.addEventListener("click",(function(){d.cleanCompleted(),d.setStorage(),d.displayToDo(s)})),c.addEventListener("submit",(function(t){t.preventDefault(),l.value.trim()&&(d.addTask(l.value),d.setStorage(),d.resetIndex(),d.displayToDo(s),c.reset())})),document.addEventListener("click",(function(t){if(t.target&&t.target.classList.contains("delete")){var e=parseInt(t.target.parentElement.id,20);d.removeList(e),d.resetIndex(),d.setStorage(),d.displayToDo(s)}})),document.addEventListener("DOMContentLoaded",(function(){d.getStorage(),d.displayToDo(s)}))})();